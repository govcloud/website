+++
draft = false
title = "Open First Day"
description="Open First Day presentation given by Statistics Canada."
language = "en"
tags = [
    "statistics canada",
    "cncf",
    "open first"
]
date = "2018-03-22T13:10:52-05:00"
type = "slide"
+++

<!-- .slide: id="intro" data-transition="concave" -->

# Open First Day

[github.com/statcan](https://github.com/statcan) <i class="fa fa-area-chart"></i></li>

Note:

This is a fun presentation for me because I get to talk about some of the open source work being done at Statistics Canada.

But more then that I get to talk about a philosophy that has been working its way in to the department and what appears to soon be the broader government as a whole.

---

<!-- .slide: id="devs" data-transition="concave" -->

# Developers

> Modernizing app delivery for Canadians

<div class="col-xs-6 col-sm-6 col-md-6">
<ul class="list-unstyled">
<li>William Hearn</li>
<li>@sylus <i class="fa fa-github"></i></li>
</ul>
</div>

<div class="col-xs-6 col-sm-6 col-md-6">
<ul class="list-unstyled">
<li>Laurent Goderre</li>
<li>@LaurentGoderre <i class="fa fa-github"></i></li>
</ul>
</div>

Note:

Will:

I'm an Open Source developer of I don't want to say how many years and am currently working as a cloud engineer for the cloud operations team at Statistics Canada.

In my past I have worn many hats but primarily some people may know me as one of the maintainers for Drupal WxT which powers both Statistics Canada and Open Data portal as well as many other departments.

I've been very lucky throughout my life to have been a part of some amazing open source communities particularly because I have been able to grow so much as a developer and meet some amazing people throughout.

If you get one thing from me during this talk I hope that it is that I wholeheartedly believe that it is "All about the community".

As a personal note I can't really describe how it feels when you get to talk to one of your idols who have contributed some pretty awesome code or solved a particular problem.

Laurent Goderre:

ToDo: Add Laurent Introduction Text

---

<!-- .slide: id="stc" data-transition="concave" -->

# Statistics Canada

* Decade of Open Source
* Encourages Developers to Contribute
* Open by Default
* Significant ROI

Note:

Statistics Canada has been increasing in its use of Open Source technologies over the past several years and is poised to make bigger changes over the next several.

* Decade of Open Source
* Encourages Developers to Contribute
* Open by Default
* Significant ROI

___

<!-- .slide: id="stc-use" data-transition="concave" -->

# Use of Open Source

* Angular / React.JS / Vue.js
* Drupal
* Solr
* Docker
* Kubernetes

Note:

## Utilizing

We have many teams leveraging frontend toolkits `Angular` / `React.JS` / `Vue.js` performing progressive enhancement on a variety of our web components.

* Angular.js leveraged for our upcoming search pages
* React.JS used for our Cannabis Portal
* Vue.js for generating SAS Code to the front-end user

A WCMS team that has leveraged `Drupal` for the past 5+ years and which develops for the most part completely in the open.

A Search team that leverages `Apache Solr` for much of our search and product data pages.

Finally we have quite a few other teams even surprising ones like .NET that are starting to develop their applications with Containers.

___

<!-- .slide: id="stc-contributions" data-transition="concave" -->

# Contributions

* Bootstrap / WET-BOEW Framework
* Drupal
* Docker
* Kubernetes
* Data Visiualizations
* CNCF Meet-up

Note:

## Contributions

Interestingly as once you start using Open Source as a agency you realize in order to maximize your benefits you often need to contribute back.

### `Bootstrap` and the `WET-BOEW` jQuery Framework.

### Drupal

Developed a `Drupal WxT` platform that has been shared and leveraged by many other government departments even provincial ones!

* Numerous Patches against Drupal Core / Contributed modules

Played a significant role in the development of the Open Data / Open Government initiative which saw improvements being made to both `CKAN` and `Drupal` upstream.

* Public Service Excellence Awards
* Open Data won UK Award 2018

### Docker

* Improvements to Official Drupal / Node Docker Container
* Sharing our approach to Containerization (Linux, Windows) to other departments

### Kubernetes

* Improvements to Official Kubernetes Helm Charts
* Sharing our approach to Kubernetes (Linux, Windows) to other departments

### CNCF Meetup

* Monthly Cloud Native Meetups

### Data Visualizations

* Data visualizations for public use
* Leverages customized improvements to d3.js

Personally I have been encouraged by my department as it is seen as a net benefit to contribute back to the Open Source community.

> This might be a useful point to mention here that the agency actively seeks out Open Source developer talent.

___

<!-- .slide: id="stc-roi" data-transition="concave" -->

# Significant ROI

* Code is of superior quality
* Focus on security and abstraction
* Attract developer talent
* Operational efficiency

Note:

## ROI

I just wanted to quickly mention that we realized early on there is a lot of benefit to leveraging Open Source and it brings with it a significant return on investment

For instance when you develop in the open:

* Your code is of superior quality
* More focus on security and abstraction
* Get others to peer review and improve your code
* Attract developer talent

When you leverage Open Source with thriving communities.

* Innate ability to improve the software
* Gain Exceptional Support from passionate people
* Operational efficiency with speed of execution

I think Statistics Canada is heading in the right direction but there is still some more work to do so expect to see the following from us!

* Open Source our Cannabis Platform
* More consolidation of our open source work under official repository
* Showcasing of our new API (jsonAPI)
* Share a few of our internal golang applications

---

<!-- .slide: id="dataviz-intro" data-transition="concave" -->

# DataViz at StatsCan

* Open Source and Format(s)

Note:

___

<!-- .slide: id="dataviz-why-os" data-transition="concave" -->

# Why Open Source?

> It's about more then free software

* Training opportunity for GC employees
* Helps staff stay up-to-date on new tech
* Attract talent

Note:

___

<!-- .slide: id="dataviz-why-open-formats" data-transition="concave" -->

# Why Open Formats?

> Developing in the open

* Easier to mashup data with other sources
* Enables 3rd party developers to create own data
* Decreate learning curve for using out data

Note:

___

<!-- .slide: id="dataviz-stack" data-transition="concave" -->

# DataViz OS Stack

<div class="col-xs-6 col-sm-6 col-md-6">
<ul class="list-unstyled">
<li class="list-unstyled"><img src="/img/architecture/openfirst/docker-icon.png" height=200px></img></li>
<li class="list-unstyled"><img src="/img/architecture/openfirst/d3js-icon.png" height=200px></img></li>
</ul>
</div>

<div class="col-xs-6 col-sm-6 col-md-6">
<ul class="list-unstyled">
<li class="list-unstyled"><img src="/img/architecture/openfirst/nodejs-icon.png" height=200px></img></li>
<li class="list-unstyled"><img src="/img/architecture/openfirst/i18next-icon.png" height=200px></img></li>
</ul>
</div>

Note:

___

<!-- .slide: id="dataviz-formats" data-transition="concave" -->

# Open Formats

<div class="col-xs-6 col-sm-6 col-md-6">
<ul class="list-unstyled">
<li class="list-unstyled"><img src="/img/architecture/openfirst/jsonapi-icon.png" height=200px></img></li>
<li class="list-unstyled"><img src="/img/architecture/openfirst/schema-icon.png" height=200px></img></li>
</ul>
</div>

<div class="col-xs-6 col-sm-6 col-md-6">
<ul class="list-unstyled">
<li class="list-unstyled"><img src="/img/architecture/openfirst/json-ld.png" height=200px></img></li>
<li class="list-unstyled"><img src="/img/architecture/openfirst/iso-icon.png" height=200px></img></li>
</ul>
</div>

Note:

---

<!-- .slide: id="wxt" data-transition="concave" -->

# Drupal

* Data Modeling
* Configuration Management
* ACL
* Web Services: jsonAPI, GraphQL
* Workspaces

Note:

___

<!-- .slide: id="wxt-d7" data-transition="concave" -->

WxT D7 <!-- .element: class="col-xs-3 col-sm-3 col-md-3 bg-primary" -->

A installation profile which relies on and integrates extensively with the
WxT jQuery Framework.<!-- .element: class="col-xs-9 col-sm-9 col-md-9 text-left" style="padding-left: 1em; padding-bottom: 1em;" -->

* 5+ years operational track record
* 10+ departments leveraging
* Some provinces / municipalities
* A lot of lessons learned

Note:

___

<!-- .slide: id="wxt-d8" data-transition="concave" -->

WxT D8<!-- .element: class="col-xs-3 col-sm-3 col-md-3 bg-primary" -->

A sub-profile of Lightning which relies on and integrates extensively with the
WxT jQuery Framework.<!-- .element: class="col-xs-9 col-sm-9 col-md-9 text-left" style="padding-left: 1em; padding-bottom: 1em;" -->

- Lightweight and extensible
- Supports all WxT themes
- Improved layouts aligned to GoC IA spec
- WxT Bootstrap / Library (standalone)
- Variety of WxT Plugins ported
- Work underway for WET5

Note:

## Lessons learned

Built with lessons learned from Drupal 7 WetKit, in use by several departments,
including the current Open Data portal. One of the biggest decisions was
deciding to leverage Lightning as our base framework. This choice wasn't made
carelessly but 6 months in I can say it has been an incredible time saver,
allowing us to more readily focus on departmental customizations.

## Lightweight and extensible

Following the practice of Lightning WxT tries to keep it scope minimal and
ensure when functionality is added that it can be easily disabled. WxT Extend
is a wrapper module which enables more advanced functionality and gets enabled
during an install callback.

## WxT Themes

All of the various WET-BOEW themes are supported and can be toggled in either
a minifed / non minified mode

## Improved layouts

We integrated with bootstrap layouts which extends from layout discovery
in core and gives us impressibe grid control to support many types of layouts.
We are slowly moving the layouts from the official IA spec from GoC

## WxT Bootstrap / WxT Library

Given in the spirit of modularity WxT Bootstrap theme theme layer can be run
without the weight of a distribution and only requirement is the WxT Library
module due to theme system limitations.

## WxT Plugins ported

A variety of WxT plugins have been ported.

___

<!-- .slide: id="lightning" data-transition="concave" -->

Lightning<!-- .element: class="col-xs-3 col-sm-3 col-md-3 bg-primary" data-fragment-index="1" --> <i class="fa fa-bolt"></i>

Lightning's mission is to enable devs to create great authoring
experiences and empower editorial teams.<!-- .element: class="col-xs-9 col-sm-9 col-md-9 text-left" data-fragment-index="2" style="padding-left: 1em; padding-bottom: 0.25em;" -->

- Minimal opt-in design
- Extensively tested + secured @ [Acquia](http://lightning.acquia.com/)
- Targets several key functional areas:
  * Media
  * Layout
  * Workflow
  * API-First

Note:

Lightning is a top Distribution in Drupal 8 backed by Acquia allowing you to
build experiences quickly using the best of Drupal 8 in a feature rich,
extensively tested, and secure open source distribution. Lightning powers huge
sites such as:

* Princeton
* Tesla
* Pfizer

Including powering notable distributions like:

* OpenEDU
* Thunder
* Demo Framework.

4 key functional areas are targeted:

* Drag and Drop Layouts: Configure page layouts with drag and drop tools. Of note transitioning to core's Layout Builder from Panels / Panelizer.

* Media Management: Embed images, videos, instragram, twitter and more from Drupal or other sources into content and pages.

* Workflows: Configure workflows that keep content moving through review and approval stages, easily. Also features improvements to the native panelizer experience.

* API First: Lightning ships with several modules which, together, quickly set up Drupal to deliver data to decoupled applications via a standardized API. Toolkit for authentication, auth, and delivery of data to API consumers.

* OpenAPI
* JsonAPI
* Simple OAuth

Progressive Enhancements now that React.js is in core is also being added take a look at the new scheduler!

___

<!-- .slide: id="wxt-od" data-transition="concave" -->

Open Data<!-- .element: class="col-xs-3 col-sm-3 col-md-3 bg-primary" -->

A sub-profile of WxT which serves as the front-end user engagement portal for
GoC @ Open Data<!-- .element: class="col-xs-9 col-sm-9 col-md-9 text-left" style="padding-left: 1em; padding-bottom: 1em;" -->

- User Engagement
- Decoupled improvements
- Tight CKAN integration
* Refined workflows

Note:

Finally this brings us to our Open Data sub-profile of WxT. Importantly this
profile must run in a PostgreSQL backed environment so all modules have been
extensively tested against that. It features a variety of improvements whether
across the data modelling all the way through to the template layer.

___

<!-- .slide: id="wxt-stc" data-transition="concave" -->

Statistics Canada<!-- .element: class="col-xs-3 col-sm-3 col-md-3 bg-primary" -->

A sub-profile of WxT which serves as the front-end user engagement portal for
Statistics Canada<!-- .element: class="col-xs-9 col-sm-9 col-md-9 text-left" style="padding-left: 1em; padding-bottom: 1em;" -->

- New Dissemination Model
- oAuth
- Tailored workflows
- Content Staging / Deployment

Note:

---

<!-- .slide: id="cloudfirst" data-transition="concave" -->

# Cloud First

> A policy mandate and mission enabler across governments

<div class="col-xs-6 col-sm-6 col-md-6">

<ul class="list-unstyled">
<li>Speed, scale, Resiliency</li>
<li>Application uptime / performance</li>
<li>Digital enablement</li>
</div>

<div class="col-xs-6 col-sm-6 col-md-6">
<ul class="list-unstyled">
<li>Software design patterns</li>
<li>Apps must be modernized</li>
<li>Cloud not immediate cure-all</li>
</div>

Note:

Cloud-first is starting to become a policy mandate and mission enabler across governments:

a) Public sector agencies are looking to the cloud for speed scale and resilience
b) Cloud isn't a cure-all though as higher levels of application performance and digital enablement require precise software design patterns
c) Platforms migrating apps to the cloud can be tricky since your legacy apps probably weren't built with distributed computing and scalability in mind
d) Need to either modify and optimize those existing apps or build new apps for the cloud
e) These can be seen as the traditional IaaS which is often more of a "Lift and Shift" approach

___

<!-- .slide: id="cloudnative" data-transition="concave" -->

# Cloud Native

> Orchestration of containers as part of a microservices architecture.

<div class="col-xs-6 col-sm-6 col-md-6">
  <ul class="list-unstyled">
    <li>Containerization</li>
    <li>Dynamically orchestrated</li>
    <li>Microservices oriented</li>
    <li>Align with Open First initiative</li>
  </ul>
</div>

<div class="col-xs-6 col-sm-6 col-md-6">
  <ul class="list-unstyled">
    <li>Deploy faster</li>
    <li>Optimized resource utilization</li>
    <li>Distributed computing</li>
    <li>Cloud Native computing foundation</li>
	</ul>
</div>

Note:

The fundamentals of being Cloud Native is loosely described as container packaging, dynamic management and a Microservices-oriented architecture.

Cloud Native promotes five architectural principles:

1. At very least when using IaaS: run on servers that can be flexibly provisioned on demand.
2. Design systems using, or evolve them towards, a microservices architecture: individual components are small and decoupled.
3. Automate and encode: replace manual tasks with scripts or code.
4. Containerize: package processes with their dependencies making them easy to test, move and deploy.
5. Orchestrate: abstract away individual servers in production using off-the-shelf management and orchestration tools.

These steps have many benefits but ultimately they are about the reduction of risk and the ability to scale.

___

<!-- .slide: id="cloudnative-cncf" data-transition="concave" -->

# CNCF

* High Quality OS Projects
* Vendor Neutral
* Industry's Best from multiple disciplines
* Graduated Projects

Note:

## CNCF

The Cloud Native Computing Foundation builds sustainable ecosystems and fosters a community around a constellation of high-quality open source projects that orchestrate containers as part of a microservices architecture.

CNCF serves as the vendor-neutral home for many of the fastest-growing projects on GitHub, including Kubernetes, Prometheus and Envoy, fostering collaboration between the industry’s top developers, end users, and vendors. Kubernetes is the world’s most popular container-orchestration platform and the first CNCF project.

## Important Points

We should be a member of the CNCF as I think Government should be a leader in this. We need to invest in our next generation of developers and allow them to improve our governmental services.

___

<!-- .slide: id="cloudnative-cncf-meetups" data-transition="concave" -->

# Meetups

* GoC Cloud Native Working Group

Note:

---

<!-- .slide: id="golang" data-transition="concave" -->

# GoLang

* Language of the cloud
* Efficient and easy to learn
* Multi Platform
* Follow the best laid path

Note:

The Google -incubated Go language is one of the fastest growing programming languages today, with about one million active developers using it worldwide. But the company believes it can still accelerate its growth, especially when it comes to its role in writing cloud applications. And to do this, the company today announced Go Cloud, a new open-source library and set of tools that makes it easier to build cloud apps with Go.

While Go is highly popular among developers, Google argues that the language was missing a standard library for interfacing with cloud services. Today, developers often have to essentially write their own libraries to use the features of each cloud, but organizations today want to be able to easily move their workloads between clouds.

What Go Cloud then gives these developers is a set of open generic cloud APIs for accessing blog storage, MySQL databases and runtime configuration, as well as an HTTP server with built-in logging, tracing and health checking. Right now, the focus is on AWS and Google Cloud Platform. Over time, Google plans to add more features to Go Cloud and support for more cloud providers (and those cloud providers can, of course, build their own support, too).

This, Google argues, allows developer teams to build applications that can easily run on any supported cloud without having to re-architect large parts of their applications.

As Google VP of developer relations Adam Seligman told me, the company hopes this move will kick off an explosion of libraries around Go — and, of course, that it will accelerate Go’s growth as a language for the cloud.

___

<!-- .slide: id="golang-gophers" data-transition="concave" -->

# Gophers

<div class="col-xs-6 col-sm-6 col-md-6">
  <img src="https://storage.googleapis.com/gopherizeme.appspot.com/gophers/64993e4fd1e3008ad453690af0c21e8fb6776215.png">
</div>

<div class="col-xs-6 col-sm-6 col-md-6">
  <img src="https://storage.googleapis.com/gopherizeme.appspot.com/gophers/0c9f1682a737032df29e6d5eb727a7448466009d.png">
</div>

___

<!-- .slide: id="golang-projects" data-transition="concave" -->

# Projects

* Traefik
* Vault
* Docker
* Envoy / Istio
* Kubernetes
* gRPC / Protocol Buffers

Note:

___

<!-- .slide: id="golang-traefik" data-transition="concave" -->

# Traefik

![Traefik](/img/architecture/openfirst/traefik.svg)

Note:

Træfik is a modern HTTP reverse proxy and load balancer that makes deploying microservices easy.

Træfik integrates with your existing infrastructure components (Docker, Swarm mode, Kubernetes, Marathon, Consul, Etcd, Rancher, Amazon ECS, ...) and configures itself automatically and dynamically.

Pointing Træfik at your orchestrator should be the only configuration step you need.

## Overview

Imagine that you have deployed a bunch of microservices with the help of an orchestrator (like Swarm or Kubernetes) or a service registry (like etcd or consul). Now you want users to access these microservices, and you need a reverse proxy.

Traditional reverse-proxies require that you configure each route that will connect paths and subdomains to each microservice. In an environment where you add, remove, kill, upgrade, or scale your services many times a day, the task of keeping the routes up to date becomes tedious.

This is when Træfik can help you!

Træfik listens to your service registry/orchestrator API and instantly generates the routes so your microservices are connected to the outside world -- without further intervention from your part.

# Features

* Continuously updates its configuration (No restarts!)
* Supports multiple load balancing algorithms
* Provides HTTPS to your microservices by leveraging Let's Encrypt (wildcard certificates support)
* Circuit breakers, retry
* High Availability with cluster mode (beta)
* See the magic through its clean web UI
* Websocket, HTTP/2, GRPC ready
* Provides metrics (Rest, Prometheus, Datadog, Statsd, InfluxDB)
* Keeps access logs (JSON, CLF)
* Fast
* Exposes a Rest API
* Packaged as a single binary file (go) and available as a tiny official docker image

# Supported Providers

* Docker / Swarm mode
* Kubernetes
* Mesos / Marathon
* Rancher (API, Metadata)
* Azure Service Fabric
* Consul Catalog
* Consul / Etcd / Zookeeper / BoltDB
* Eureka
* Amazon ECS
* Amazon DynamoDB
* File
* Rest

___

<!-- .slide: id="golang-vault" data-transition="concave" -->

# Vault

![Vault](/img/architecture/openfirst/vault-auth-workflow.svg)

Note:

Vault: A tool for secrets management, encryption as a service, and privileged access management.

Vault is a tool for securely accessing secrets. A secret is anything that you want to tightly control access to, such as API keys, passwords, certificates, and more. Vault provides a unified interface to any secret, while providing tight access control and recording a detailed audit log.

A modern system requires access to a multitude of secrets: database credentials, API keys for external services, credentials for service-oriented architecture communication, etc. Understanding who is accessing what secrets is already very difficult and platform-specific. Adding on key rolling, secure storage, and detailed audit logs is almost impossible without a custom solution. This is where Vault steps in.

The key features of Vault are:

Secure Secret Storage: Arbitrary key/value secrets can be stored in Vault. Vault encrypts these secrets prior to writing them to persistent storage, so gaining access to the raw storage isn't enough to access your secrets. Vault can write to disk, Consul, and more.

Dynamic Secrets: Vault can generate secrets on-demand for some systems, such as AWS or SQL databases. For example, when an application needs to access an S3 bucket, it asks Vault for credentials, and Vault will generate an AWS keypair with valid permissions on demand. After creating these dynamic secrets, Vault will also automatically revoke them after the lease is up.

Data Encryption: Vault can encrypt and decrypt data without storing it. This allows security teams to define encryption parameters and developers to store encrypted data in a location such as SQL without having to design their own encryption methods.

Leasing and Renewal: All secrets in Vault have a lease associated with it. At the end of the lease, Vault will automatically revoke that secret. Clients are able to renew leases via built-in renew APIs.

Revocation: Vault has built-in support for secret revocation. Vault can revoke not only single secrets, but a tree of secrets, for example all secrets read by a specific user, or all secrets of a particular type. Revocation assists in key rolling as well as locking down systems in the case of an intrusion.

---

<!-- .slide: id="containers-overview" data-transition="concave" -->

# Containers

> Package processes with their dependencies making them easy to test, move and deploy.

<div class="col-xs-6 col-sm-6 col-md-6">
  <ul class="list-unstyled">
    <li>Platform independence</li>
    <li>Resource efficiency and density</li>
    <li>Effective isolation and resource sharing</li>
    <li>Speed</li>
  </ul>
</div>

<div class="col-xs-6 col-sm-6 col-md-6">
  <ul class="list-unstyled">
    <li>Immense and smooth scaling</li>
    <li>Operational simplicity</li>
    <li>Developer productivity</li>
    <li>Development pipeline</li>
  </ul>
</div>

Note:

I just wanted to quickly touch on containers.

Everyone that learns about containers and their server immutability concept invariably loves them, because of the power they give, both on the development and in the deployment sides.

**Platform independence: Build it once, run it anywhere**

A major benefit of containers is their portability. In particular containers help to facilitate a cloud native approach via a microservices architectural design pattern.

A container wraps up an application with everything it needs to run, like configuration files and dependencies. This enables you to easily and reliably run applications on different environments such as your local desktop, physical servers virtual servers, testing, staging, production environments and public or private clouds.

This portability grants organisations a great amount of flexibility, speeds up the development process and makes it easier to switch to another cloud environment or provider, if need be.

**Resource efficiency and density**

Since containers do not require a separate operating system, they use up less resources. While a VM often measures several gigabytes in size, a container usually measures only a few dozen megabytes, making it possible to run many more containers than VMs on a single server.

Since containers have a higher utilisation level with regard to the underlying hardware, you require less hardware, resulting in a reduction of bare metal costs as well as datacentre costs.

**Effective isolation and resource sharing**

Although containers run on the same server and use the same resources, they do not interact with each other. If one application crashes, other containers with the same application will keep running flawlessly and won’t experience any technical problems. This isolation also decreases security risks: If one application should be hacked or breached by malware, any resulting negative effects won’t spread to the other running containers.

**Speed: Start, create, replicate or destroy containers in seconds**

As mentioned before, containers are lightweight and start in less than a second since they do not require an operating system boot. Creating, replicating or destroying containers is also just a matter of seconds, thus greatly speeding up the development process, the time to market and the operational speed. Releasing new software or versions has never been so easy and quick. But the increased speed also offers great opportunities for improving customer experience, since it enables organisations and developers to act quickly, for example when it comes to fixing bugs or adding new features.

**Immense and smooth scaling**

A major benefit of containers is that they offer the possibility of horizontal scaling, meaning you add more identical containers within a cluster to scale out. With smart scaling, where you only run the containers needed in real time, you can reduce your resource costs drastically and accelerate your return on investment. Container technology and horizontal scaling has been used by major vendors like Google and Twitter for years now.

**Operational simplicity**

Contrary to traditional virtualisation, where each VM has its own OS, containers execute application processes in isolation from the underlying host OS. This means that your host OS doesn’t need specific software to run applications, which makes it simpler to manage your host system and quickly apply updates and security patches.

**Improved developer productivity and development pipeline**

A container-based infrastructure offers many advantages, promoting an effective development pipeline. Let’s start with one of the most well-known benefits. As mentioned before, containers ensure that applications run and work as designed locally. This elimination of environmental inconsistencies makes testing and debugging less complicated and less time-consuming since there are fewer differences between running your application on your workstation, test server or in production environment. The same goes for updating your applications: you simply modify the configuration file, create new containers and destroy the old ones, a process which can be executed in seconds. In addition to these well-known benefits, container tools like Docker offer many other advantages. One of these is version control, making it possible for you to roll-out or roll-back with zero downtime. The possibility to use a remote repository is also a major benefit when working in a project-team, since it enables you to share your container with others.

## Data Points

* 71% of Fortune 100 companies are running containers

___

<!-- .slide: id="containers-docker" data-transition="concave" -->

# Docker

* Docker for Windows / Mac
* Docker Intricacies
* Composer w/PHP
* Data Science (SAS, Kylo, NiFi)

Note:

___

<!-- .slide: id="containers-vscode" data-transition="concave" -->

# VSCode

* Dockerfile code completion
* Docker Compose support
* Generation of Docker files
* Docker Hub
* Linting

Note:

https://code.visualstudio.com/docs/azure/docker

___

<!-- .slide: id="containers-visual-studio" data-transition="concave" -->

# Visual Studio

* Dockerfile code completion
* Docker Compose support
* Generation of Docker files
* Docker Hub
* Linting

Note:

https://code.visualstudio.com/docs/azure/docker

___

<!-- .slide: id="containers-patterns" data-transition="concave" -->

# Container Design Patterns

* There are certain fundamental truths
* Patterns developed from KISS, DRY, SoC
* Inspired from 12 factors app

> Facilitate creating a containerized application that can be automated and orchestrated effectively by a cloud-native platform.

Note:

The principles for creating containerized applications listed below use the container image as the
basic primitive and the container orchestration platform as the target container runtime environment.
Following these principles will ensure that the resulting containers behave like a good cloudnative
citizen in most container orchestration engines, allowing them to be scheduled, scaled, and
monitored in an automated fashion. These principles are presented in no particular order.

---

<!-- .slide: id="k8s" data-transition="concave" -->

# Kubernetes

> Kubernetes is the world’s most popular container-orchestration platform and the first CNCF project.

<div class="col-xs-6 col-sm-6 col-md-6">
  <ul class="list-unstyled">
    <li>Managed complexity</li>
    <li>No vendor lock-in</li>
    <li>Multi cloud</li>
    <li>Self-healing</li>
    <li>Open Service Broker</li>
  </ul>
</div>

<div class="col-xs-6 col-sm-6 col-md-6">
  <ul class="list-unstyled">
    <li>Google backed</li>
    <li>Vibrant community</li>
    <li>Big name supporters</li>
    <li>Flexibility</li>
  </ul>
</div>

Note:

Kubernetes helps users build, scale and manage modern applications and their dynamic lifecycles. First developed at Google, Kubernetes now counts more than 2,300 contributors and is used by some of the world’s most-innovative companies, across a wide range of industries. The cluster scheduler capability lets developers build cloud native applications while focusing on code rather than ops. Kubernetes future-proofs application development and infrastructure management on-premises or in the cloud, without vendor or cloud-provider lock-in.

## Background

A container orchestrator is a software that is able to orchestrate and organize containers across any number of physical or virtual nodes. The potential of this is enormous, as it greatly simplifies the deployment of the infrastructure (each node only has Docker installed) and its operation (as all servers are exactly equal). The container orchestrator takes in account things as failing nodes, adding more nodes to the cluster or removing nodes from the cluster by moving the containers from one node to another to keep them available at all times.

While containers + orchestrators technology not only resolves a lot of problems related with infrastructure management, it also resolves a lot of problems regarding deploying software in the infrastructure, as the software, its dependencies and runtime are always deployed at the same time, minimizing the errors commonly associated to deployments in non-immutable environments.

Kubernetes has won the orchestrator wars, hands down and as of 2018 now takes center stage. This is proved by every single cloud vendor integrating with it and providing their own managed service. Additionally by most PAAS's offering first class support for it. (Pivotal, OpenShift, Tectonic)

**Managed complexity**: Automation of the deployment, scaling, and operation of application containers in a clustered environment via primitives

**Vendor Lock-in**: Essentially every major cloud provider (public, private, hybrid) support Kubernetes

**Multi-Cloud**: Ideal for managing multi-cloud environments / workloads

**Self-healing**: Auto-placement, auto-restart, auto-replication, auto-scaling

**Google Backed**: Originally built by Google leveraging a decade of experience running containers at scale

**Vibrant Community**: One of the fastest moving projects in open source history, 2nd largest. Additionally over 30,000 users on slack many google engineers.

**Big Name Supporters**: Google, Microsoft, AWS, IBM, RedHat, Oracle, VMWare, Intel, Pivotal etc

**Flexibility**: Simplicity of a PaaS with the flexibility of IaaS

**Powerful Primitives**:

* Pod
* Service
* Volume
* Namespace
* ReplicaSet
* Deployment
* StatefulSet
* DaemonSet
* Job

> Interesting data points

* 54% of Fortune 100 companies are running Kubernetes
* Housed within a large, neutral open source foundation, the Cloud Native Computing Foundation
* CNCF consists of enterprise companies such as Microsoft, Google, AWS, SAP, Oracle, Pivotal, etc
* Kubernetes has won the orchestration wars and is recognized as the de facto standard for container orchestration
* Gartner: By 2020, more than 50% of global enterprises will be running containerized applications in production.
* With that, Kubernetes has emerged as the leading orchestration method in the market with a 71% adoption rate.
* Second largest repository on GitHub only behind Linux
* More then 2300 contributors
* Used by some of the worlds most innovative companies
* Over 75,000 members on Slack across different SIG's

___

<!-- .slide: id="k8s-gov" data-transition="concave" -->

# Government

> Kubernetes aligns with governments strategic direction

<div class="col-xs-6 col-sm-6 col-md-6">
  <ul class="list-unstyled">
    <li>SSC Cloud Platform</li>
    <li>CSE / CSIS</li>
		<li>CDS / TBS</li>
  </ul>
</div>

<div class="col-xs-6 col-sm-6 col-md-6">
  <ul class="list-unstyled">
    <li>OpenShift</li>
    <li>Pivotal</li>
    <li>Kubernetes central to all</li>
  </ul>
</div>

Note:

SSC now has its own Cloud Platform (OpenShift). RedHat's corporate offering of Kubernetes

A few other departments have either procured OpenShift / Pivotal:

* CSEC / CSIS: Using OpenShift for a few years
* CDS: Have a year license of OpenShift
* ESDC / ISED: Building apps and onboarding on OpenShift
* TBS: Evaluating between OpenShift / Pivotal
* STC: Evaluating between OpenShift / Pivotal / AKS etc

At the foundation of both these Cloud Management Platform is the agreed upon standard of Kubernetes which powers both

* Can send full list of Departments as is impressive the agreement on K8S

___

<!-- .slide: id="k8s-app-delivery" d data-transition="concave" -->

## App Delivery

<div class="stretch">
  <iframe height="100%" width="100%" src="https://www.youtube.com/embed/tE3k-pOJdTc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
</div>

___

<!-- .slide: id="chart-overview" data-transition="concave" -->

# Charts

![Overview](/img/helm/chart-illustration.png)

Note:

ToDo

___

<!-- .slide: id="chart-arch" data-transition="concave" -->

# Architecture

![Architecture](/img/helm/chart-architecture.png)

Note:

ToDo

___

<!-- .slide: id="landscape" data-transition="concave" -->

# Dev / Sec / Ops

<div class="col-xs-6 col-sm-6 col-md-6">
  <ul class="list-unstyled">
    <li>ELK stack</li>
    <li>GitLab</li>
    <li>Jenkins</li>
    <li>Sentry</li>
    <li>Traefik</li>
  </ul>
</div>

<div class="col-xs-6 col-sm-6 col-md-6">
  <ul class="list-unstyled">
    <li>Artifactory</li>
    <li>X-Ray</li>
    <li>SonarQube</li>
  </ul>
</div>

Note:

All cloud native apps often vetted and extended from official sources.

___

<!-- .slide: id="chart-efk" d data-transition="concave" -->

## EFK

<div class="stretch">
  <iframe height="100%" width="100%" src="https://www.youtube.com/embed/QoHNkjtbHPg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
</div>

___

<!-- .slide: id="chart-gitlab" data-transition="concave" -->

# GitLab

<div class="col-xs-6 col-sm-6 col-md-6">
  <ul class="list-unstyled">
    <li>GitLab running in K8S</li>
    <li>CI runners in separate cluster</li>
    <li>Multiple backups via ARK / CronJob</li>
    <li>6 months operational</li>
  </ul>
</div>

<div class="col-xs-6 col-sm-6 col-md-6">
  <ul class="list-unstyled">
    <li>Highest in Gardner</li>
    <li>Fully cloud native</li>
    <li>Improved build/test workflow</li>
  </ul>
</div>

Note:

___

<!-- .slide: id="chart-artifactory" data-transition="concave" -->

## jFrog Artifactory

<div class="stretch">
  <iframe height="100%" width="100%" src="https://www.youtube.com/embed/CypEkbB-JRU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
</div>

___

<!-- .slide: id="chart-xray" data-transition="concave" -->

## jFrog X-Ray

<div class="stretch">
  <iframe height="100%" width="100%" src="https://www.youtube.com/embed/lghfzM9R1i0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
</div>

___

<!-- .slide: id="chart-datasci" data-transition="concave" -->

# Data Science

<div class="col-xs-6 col-sm-6 col-md-6">
  <ul class="list-unstyled">
    <li>Blockchain</li>
    <li>Hadoop / HDFS</li>
    <li>JupyterHub</li>
		<li>Kylo</li>
  </ul>
</div>

<div class="col-xs-6 col-sm-6 col-md-6">
  <ul class="list-unstyled">
    <li>Nifi</li>
    <li>Pachyderm</li>
    <li>Spark</li>
    <li>SAS 4 Containers</li>
  </ul>
</div>

Note:

All cloud native apps vetted and extended from official sources.

___

<!-- .slide: id="ndm-intro" data-transition="concave" -->

# Drupal 7/8

<div class="col-xs-6 col-sm-6 col-md-6">
  <ul class="list-unstyled">
    <li>gccode -> cloud.statcan</li>
    <li>Microservice approach</li>
    <li>Generation of artifacts</li>
    <li>Every Drupal site with full CI/CD</li>
  </ul>
</div>

<div class="col-xs-6 col-sm-6 col-md-6">
  <ul class="list-unstyled">
    <li>Improved Architecture</li>
    <li>Autoscale / Elastic</li>
    <li>Stateless / Stateful</li>
    <li>Notifications / Metrics</li>
  </ul>
</div>

Note:

* All 5 groups and 188 projects moved to STC GitLab
* All Drupal 7/8 sites are now Containerized / MicroServiced across CI / CD
* As Containers are Stateless, Stateful data problem has been solved elegantly through Azure Storage
* Autoscale both vertically and horizontally across all services via replica sets on demand

___

<!-- .slide: id="ndm-stack" data-transition="concave" -->

# Stack

![Overview](/img/ndm/ndm-stack.png)

Note:

ToDo

___

<!-- .slide: id="ndm-stack" data-transition="concave" -->

# Demo

Note:

ToDo

___

<!-- .slide: id=".net" data-transition="concave" -->

# .NET

* Docker / K8S for Windows
* .NET Core vs. Framework
* Nuget
* VSCode + Visual Studio

---

<!-- .slide: id="serverless-challenger" data-background="https://media.giphy.com/media/bGd3K98aIx104/giphy.gif" -->

___

<!-- .slide: id="serverless" data-transition="concave" -->

# Serverless

* FaaS
* Right tool for the right job
* Cloud Comparisons
* KNative
* Kubernetes Universal Control Plane

Note:
